import{J as s}from"./index-DCpnB5N_.js";const r="/api/agent";class i{async list(e,t){const a={};return e&&(a.status=e),t&&(a.keyword=t),(await s.get(`${r}/list`,{params:a})).data}async get(e){var t;try{return(await s.get(`${r}/${e}`)).data}catch(a){if(s.isAxiosError(a)&&((t=a.response)==null?void 0:t.status)===404)return null;throw a}}async create(e){const t={...e,status:e.status||"draft"};return(await s.post(r,t)).data}async update(e,t){var a;try{const n={id:t.id,name:t.name,description:t.description,avatar:t.avatar,status:t.status,prompt:t.prompt,category:t.category,tags:t.tags,humanReviewEnabled:t.humanReviewEnabled?1:0};return(await s.put(`${r}/${e}`,n)).data}catch(n){if(s.isAxiosError(n)&&((a=n.response)==null?void 0:a.status)===404)return null;throw n}}async delete(e){var t;try{return await s.delete(`${r}/${e}`),!0}catch(a){if(s.isAxiosError(a)&&((t=a.response)==null?void 0:t.status)===404)return!1;throw a}}async publish(e){var t;try{return(await s.post(`${r}/${e}/publish`)).data}catch(a){if(s.isAxiosError(a)&&((t=a.response)==null?void 0:t.status)===404)return null;throw a}}async offline(e){var t;try{return(await s.post(`${r}/${e}/offline`)).data}catch(a){if(s.isAxiosError(a)&&((t=a.response)==null?void 0:t.status)===404)return null;throw a}}async getApiKey(e){var t;try{const a=await s.get(`${r}/${e}/api-key`);if(a.data.success)return a.data.data??null;throw new Error(a.data.message)}catch(a){if(s.isAxiosError(a)&&((t=a.response)==null?void 0:t.status)===404)return null;throw a}}async generateApiKey(e){const t=await s.post(`${r}/${e}/api-key/generate`);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"生成 API Key 失败")}async resetApiKey(e){const t=await s.post(`${r}/${e}/api-key/reset`);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"重置 API Key 失败")}async deleteApiKey(e){const t=await s.delete(`${r}/${e}/api-key`);if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"删除 API Key 失败")}async toggleApiKey(e,t){const a=await s.post(`${r}/${e}/api-key/enable`,null,{params:{enabled:t}});if(a.data.success&&a.data.data)return a.data.data;throw new Error(a.data.message||"更新 API Key 状态失败")}}const p=new i,u=()=>{const o=["3B82F6","8B5CF6","10B981","F59E0B","EF4444","6366F1","EC4899","14B8A6"],e=o[Math.floor(Math.random()*o.length)],t=["AI","数据","智能","DA","BI","ML","DL","NL"],a=t[Math.floor(Math.random()*t.length)],n=`<svg width="200" height="200" xmlns="http://www.w3.org/2000/svg">
  <rect width="200" height="200" fill="#${e}"/>
  <text x="100" y="120" font-family="Arial, sans-serif" font-size="48" font-weight="bold" text-anchor="middle" fill="white">${a}</text>
</svg>`;return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`},l=o=>{if(!o)return"";if(o.startsWith("data:"))return o;const e=o.includes("?")?"&":"?";return`${o}${e}t=${new Date().getTime()}`};export{p as A,u as a,l as g};
