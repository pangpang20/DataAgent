import{J as s}from"./index-C8bkOYxc.js";const a="/api/agent";class i{async list(e){try{return(await s.get(`${a}/${e}/preset-questions`)).data}catch(r){throw console.error("获取预设问题列表失败:",r),r}}async batchSave(e,r){try{const t=r.map(c=>({question:c.question,isActive:c.isActive??!0})),n=await s.post(`${a}/${e}/preset-questions`,t);return n.status===200||n.status===201}catch(t){throw console.error("保存预设问题失败:",t),t}}async delete(e,r){try{return await s.delete(`${a}/${e}/preset-questions/${r}`),!0}catch(t){throw console.error("删除预设问题失败:",t),t}}async queryPage(e,r){try{return(await s.post(`${a}/${e}/preset-questions/page`,r)).data}catch(t){throw console.error("Query preset questions page failed:",t),t}}async batchDelete(e,r){try{return(await s.delete(`${a}/${e}/preset-questions/batch`,{data:{ids:r}})).status===200}catch(t){throw console.error("Batch delete preset questions failed:",t),t}}}const p=new i;async function d(o){if(navigator.clipboard&&navigator.clipboard.writeText)try{return await navigator.clipboard.writeText(o),!0}catch(e){console.warn("Clipboard API failed, trying fallback method:",e)}try{return l(o)}catch(e){return console.error("All clipboard methods failed:",e),!1}}function l(o){const e=document.createElement("textarea");e.value=o,e.style.position="fixed",e.style.top="-9999px",e.style.left="-9999px",e.style.opacity="0",document.body.appendChild(e);try{if(e.select(),e.setSelectionRange(0,o.length),!document.execCommand("copy"))throw new Error("execCommand returned false");return!0}catch(r){return console.error("Fallback copy method failed:",r),!1}finally{document.body.removeChild(e)}}export{p as P,d as c};
