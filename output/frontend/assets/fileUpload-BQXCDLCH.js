const i={uploadAvatar(e){const a=new FormData;return a.append("file",e),fetch("/api/upload/avatar",{method:"POST",body:a}).then(async t=>{if(!t.ok){const o=await t.text().catch(()=>"");throw new Error(`Upload failed: ${t.status} ${o}`)}return(t.headers.get("content-type")||"").includes("application/json")?await t.json():{success:!0,message:"ok",url:await t.text()}})}};export{i as f};
